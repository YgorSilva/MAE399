data <- read.csv('./JC-201902-citibike-tripdata.csv'
)
attach(data)
unique(c('start.station.name', 'end.station.name'))
unique(c(start.station.name, end.station.name))
unique(start.station.name, end.station.name)
unique(data[,c('start.station.name', 'end.station.name')])
names(data)
quit()
source('./categorize.r')
source('./readData.r')
data <- readCSVDirectory('./data')
attach(data)
compareWithExponencial(tripduration[gender == 1], 1000)
compareWithExponencial(tripduration[gender == 1], 1000)
source('./categorize.r')
compareWithExponencial(tripduration[gender == 1], 1000)
compareWithExponencial(tripduration[gender == 1 && tripduration <= 3600], 1000)
compareWithExponencial(tripduration[gender == 1 && tripduration <= 1800], 1000)
compareWithExponencial(tripduration[gender == 1 & tripduration <= 1800], 1000)
compareWithExponencial(tripduration[gender == 1 & tripduration <= 1800], 1000)
hist(tripduration[gender==1&tripduration<=1800])
hist(categorize(tripduration[gender==1&tripduration<=1800]))
hist(categorize(tripduration[gender==1&tripduration<=1800])))
hist(categorize(tripduration[gender==1&tripduration<=1800]))
hist(categorize(tripduration[gender==1&tripduration<=1800], 1000))
source('./categorize.r')
categorize(tripduration[gender == 1 & tripduration < 3000], 100)
x <- categorize(tripduration[gender == 1 & tripduration < 3000], 100)
hist(x)
hist(x, breaks=1000)
source('./categorize.r')
source('./categorize.r')
compareWithExponencial(tripduration[gender == 1 & tripduration <= 1800], 1000)
source('./categorize.r')
compareWithExponencial(tripduration[gender == 1 & tripduration <= 1800], 1000)
source('./categorize.r')
compareWithExponencial(tripduration[gender == 1 & tripduration <= 1800], 1000)
names(data)
class("usertype")
head("usertype")
head(usertype)
levels(usertype)
length(data[usertype == "Custome"])
length(data[usertype == "Customer"])
length(data[usertype == "Customer",])
length(data[usertype == "Subscriber",])
length(gender[usertype == "Subscriber"])
length(gender[usertype == "Customer"])
length(gender)
data <- readCSVDirectory('./data')
attach(data)
length(data)
dim(data)
data1 <- read.csv('./data/JC-201801-citibike-tripdata.csv')
dim(data1)
dim(data2)
data2 <- read.csv('./data/JC-201802-citibike-tripdata.csv')
dim(data2)
merge(data1, data2
)
d <- merge(data1, data2)
dim(d)
d
data1
data2
source('./readData.r')
data <- readCSVDirectory('./data')
dim(data)
source('./readData.r')
data <- readCSVDirectory('./data')
dim(data)
length(data)
compareWithExponencial(tripduration[gender == 1 & tripduration <= 1800], 1000)
attach(data)
length(tripduration)
compareWithExponencial(tripduration[gender == 1 & tripduration <= 1800], 1000)
dim(data[usertype == "Customer",]
)
dim(data[usertype == "Subscriber",])
dim(data[usertype == "Subscriber",])[0]/dim(data)[0]
dim(data[usertype == "Subscriber",])[1]
dim(data[usertype == "Subscriber",])[1]/dim(data)[1]
dim(data[usertype == "Customer",])[1]/dim(data)[1]
mean(tripduration[usertype == "Customer"])
mean(tripduration[usertype == "Customer"])/60
mean(tripduration[usertype == "Subscriber"])/60
names(data)
boxplot(tripduration[usertype == "Subscriber"])
boxplot(tripduration[usertype == "Subscriber" & tripduration < 3000])
boxplot(tripduration[usertype == "Customer" & tripduration < 3000])
length(gender[tripduration > 3000])
length(gender[tripduration > 5000])
length(gender[tripduration > 7200])
length(gender[tripduration > 5000], add=T)
boxplot(tripduration[usertype == "Customer" & tripduration < 3000], tripduration[usertype == "Subscriber" & tripduraiton < 300], names = c('Customers', 'Subscribers'), horizontal = TRUE, main = "Customers vs. Subscribers", xlab = "Tempo de viagem (segundos)")
boxplot(tripduration[usertype == "Customer" & tripduration < 3000], tripduration[usertype == "Subscriber" & tripduration < 300], names = c('Customers', 'Subscribers'), horizontal = TRUE, main = "Customers vs. Subscribers", xlab = "Tempo de viagem (segundos)")
pdf("customersVSsubscribers.pdf", line=10, height=10)
pdf("customersVSsubscribers.pdf)
)
")
dev.off()
pdf("customersVSsubscribers.pdf")
boxplot(tripduration[usertype == "Customer" & tripduration < 3000], tripduration[usertype == "Subscriber" & tripduraiton < 300], names = c('Customers', 'Subscribers'), horizontal = TRUE, main = "Customers vs. Subscribers", xlab = "Tempo de viagem (segundos)")
boxplot(tripduration[usertype == "Customer" & tripduration < 3000], tripduration[usertype == "Subscriber" & tripduration < 300], names = c('Customers', 'Subscribers'), horizontal = TRUE, main = "Customers vs. Subscribers", xlab = "Tempo de viagem (segundos)")
dev.off()
subs <- dim(data[usertype == "Subscriber",])[1]
costums <- dim(data[usertype == "Costumer",])[1]
pie(c(subs, costums))
subs
costums
usertype
levels(usertype)
costums <- dim(data[usertype == "Customer",])[1]
pie(c(subs, costums))
pie(c(subs, costums), main = "Customers VS. Subscribers", labels = c('Subscribers', 'Customers'))
colors <- c("red", "blue")
costumsP <- dim(data[usertype == "Customer",])[1]/dim(data)[1]
subsP <- dim(data[usertype == "Subscriber",])[1]/dim(data)[1]
pie(c(subs, costums), main = "Customers VS. Subscribers", labels = c(subsP, costumsP), col=colors)
legend(1.5, 0.5, c("Subscribers", "Customers"), cex=0.8, fill=colors)
labels <- c(format(subsP, digits=2, nsmall=2),format(costumsP, digits=2, nsmall=2))
pie(c(subs, costums), main = "Customers VS. Subscribers", labels = labels, col=colors)
legend(1.5, 0.5, c("Subscribers", "Customers"), cex=0.8, fill=colors)
pdf("customersVSsubscribers2.pdf")
pie(c(subs, costums), main = "Customers VS. Subscribers", labels = c(subsP, costumsP), col=colors)
legend(1.5, 0.5, c("Subscribers", "Customers"), cex=0.8, fill=colors)
dev.off()
quit()
data
dim(data)
names(data)
unique(bikeid)
attach(data)
bikes <- unique(bikeid)
meanBikeUse <- 0.
for (bike in bikes) { meanBikeUse <- meanBikeUse + length(bikeid[bikeid == bike]) }
meanBikeUse <- meanBikeUse / length(bikeid)
meanBikeUse
bikeUse <- []
bikeUse <- c()
for (bike in bikes) { bikeUse <- c(bikeUse, length(bikeid[bikeid == bike]) }
for (bike in bikes) { bikeUse <- c(bikeUse, length(bikeid[bikeid == bike])) }
length(bikeUse)
length(bikes)
mean(bikeUse)
max(bikeUse)
min(bikeUse)
var(bikeUse)
sqrt(var(bikeUse))
hist(bikeUse, breaks=100)
bikeUseMin <- bikeUse / 60
bikeUseTime <- c()
for (bike in bikes) { bikeUseHours <- c(bikeUseHours, sum(tripduration[bikeid == bike & tripduration < 300*3600])/3600) }
mean(bikeUseTime)
mean(bikeUseTime)/60
mean(bikeUseTime)/(60*60)
bikeUseHours <- bikeUseTime/3600
hist(bikeUseHours, main="Bike Usage Time in 1 Year", ylab="Hours", breaks=100)
bikeUseHours <- c()
for (bike in bikes) { bikeUseHours <- c(bikeUseHours, sum(tripduration[bikeid == bike & tripduration < 300*3600])/3600) }
mean(bikeUseHours)
hist(bikeUseHours, main="Bike Usage Time in 1 Year", ylab="Hours", breaks=100)
hist(bikeUseHours, main="Bike Usage Time in 1 Year", ylab="Hours", breaks=100)
head(data)
mean(bikeUseHours)
hist(bikeUseHours, main="Bike Usage Time in 1 Year", ylab="Hours", breaks=100)
bikeUseHours <- c()
for (bike in bikes) { bikeUseHours <- c(bikeUseHours, sum(tripduration[bikeid == bike])/3600) }
mean(bikeUseHours)
bikeUseHours <- c()
for (bike in bikes) { bikeUseHours <- c(bikeUseHours, sum(tripduration[bikeid == bike & tripduration < 3600*300])/3600) }
mean(bikeUseHours)
max(bikeUseHours)
for (bike in bikes) { bikeUseHours <- c(bikeUseHours, sum(tripduration[bikeid == bike & tripduration < 3600])/3600) }
max(bikeUseHours)
hist(bikeUseHours, main="Bike Usage Time in 1 Year", ylab="Hours", breaks=100)
for (bike in bikes) { bikeUseHours <- c(bikeUseHours, sum(tripduration[bikeid == bike])/3600) }
mean(bikeUseHours)
bikeUseHours <- c()
for (bike in bikes) { bikeUseHours <- c(bikeUseHours, sum(tripduration[bikeid == bike])/3600) }

hist(bikeUseHours, main="Bike Usage Time in 1 Year", ylab="Hours", breaks=100)
hist(bikeUseHours, main="Bike Usage Time in 1 Year", Xlab="Hours", breaks=100)
hist(bikeUseHours, main="Bike Usage Time in 1 Year", xlab="Hours", breaks=100)
data <- read.csv('./data')
data <- readCSVDirectory('./data')
attach(data)
subs <- dim(data[usertype == "Subscriber",])[1]
costums <- dim(data[usertype == "Costumer",])[1]
subsP <- dim(data[usertype == "Subscriber",])[1]/dim(data)[1]
comsP <- dim(data[usertype == "Customer",])[1]/dim(data)[1]
colors <- c("red", "blue")
colors <- c("blue", "red")
pdf("customersVSsubscribers2.pdf")
pie(c(subs, costums), main = "Customers VS. Subscribers", labels = c(subsP, costumsP), col=colors)
legend(1.5, 0.5, c("Subscribers", "Customers"), cex=0.8, fill=colors)
dev.off()
pdf("customersVSsubscribers2.pdf")
customsP <- dim(data[usertype == "Customer",])[1]/dim(data)[1]
customs <- dim(data[usertype == "Customer",])[1]
labels <- c(format(subsP, digits=2, nsmall=2),format(customsP, digits=2, nsmall=2))
pie(c(subs, customs), main = "Customers VS. Subscribers", labels = labels, col=colors)
legend(1.5, 0.5, c("Subscribers", "Customers"), cex=0.8, fill=colors)
dev.off()
pdf("customersVSsubscribers2.pdf")
pie(c(subs, customs), main = "Customers VS. Subscribers", labels = labels, col=colors)
pie(c(subs, customs), main = "Customers VS. Subscribers", labels = labels, col=colors)
dev.off()
pdf("customersVSsubscribers2.pdf")
pie(c(subs, customs), main = "Customers VS. Subscribers", labels = labels, col=colors)
legend(1.5, 0.5, c("Subscribers", "Customers"), cex=0.8, fill=colors)
dev.off()
pdf("customersVSsubscribers2.pdf")
legend(1.5, 0.5, c("Subscribers", "Customers"), cex=0.8, fill=colors)
pie(c(subs, customs), main = "Customers VS. Subscribers", labels = labels, col=colors)
legend(1.5, 0.5, c("Subscribers", "Customers"), cex=0.8, fill=colors)
dev.off()
pdf("customersVSsubscribers2.pdf")
pie(c(subs, customs), main = "Customers VS. Subscribers", labels = labels, col=colors)
legend(1.5, 0.5, c("Subscribers", "Customers"), cex=0.8, fill=colors)
dev.off()
pdf("customersVSsubscribers2.pdf")
pie(c(subs, customs), main = "Customers VS. Subscribers", labels = labels, col=colors)
legend(1.5, 0.5, c("Subscribers", "Customers"), cex=0.8, fill=colors)
box()
dev.off()
pdf("customersVSsubscribers2.pdf")
pie(c(subs, customs), main = "Customers VS. Subscribers", labels = labels, col=colors)
box()

dev.off()
customers <- tripduration[usertype=='Customer']
subscribers <- tripduration[usertype=='Subscriber']
boxplot(tripduration[usertype == "Customer" & tripduration < 3000], tripduration[usertype == "Subscriber" & tripduraiton < 3000], names = c('Customers', 'Subscribers'), horizontal = TRUE, main = "Customers vs. Subscribers", xlab = "Tempo de viagem (segundos)")
boxplot(tripduration[usertype == "Customer" & tripduration < 3000], tripduration[usertype == "Subscriber" & tripduration < 3000], names = c('Customers', 'Subscribers'), horizontal = TRUE, main = "Customers vs. Subscribers", xlab = "Tempo de viagem (segundos)")
pdf("customersVSsubscribers.pdf")
boxplot(tripduration[usertype == "Customer" & tripduration < 3000], tripduration[usertype == "Subscriber" & tripduration < 3000], names = c('Customers', 'Subscribers'), horizontal = TRUE, main = "Customers vs. Subscribers", xlab = "Tempo de viagem (segundos)")
dev.off()
pdf("bikeUseHours.pdf")
hist(bikeUseHours, main="Bike Usage Time in 1 Year", xlab="Hours", breaks=100)
dev.off()
source('./readData,r')
source('./readData.r')
distance <- c()
for(trip in data) {
names(data)
for(trip in data) {
distance <- c(distance, earth.dist(start.station.longitude, start.station.latitude, end.station.longitude, end.station.latitude))}
plot(distance, tripduration)
data$distance <- earth.dist(start.station.longitude, start.station.latitude, end.station.longitude, end.station.latitude)
attach(data)
distance
length(distance)
length(tripduration)
dim(data)
length(distance)
earth.dist(start.station.longitude, start.station.latitude, end.station.longitude, end.station.latitude)
length(earth.dist(start.station.longitude, start.station.latitude, end.station.longitude, end.station.latitude))
distance <- earth.dist(start.station.longitude, start.station.latitude, end.station.longitude, end.station.latitude)
plot(distance, tripduration)
max(2019-birth.year)
min(birth.year)
head(order(birth.year))
headbirth.year
head(birth.year)
a <- birth.year[birth.year < 1910 || birth.year > 2019]
a
a
max(birth.year)
a <- birth.year[birth.year < 1910]
a
length(a)
a <- birth.year[birth.year < 1930]
length(a)
b.y <- birth.year[birth.year > 1930]
ages <- 2019 - b.y
min(b.y)
for(x in seq(from=0,to=90,by=5){
for(x in seq(from=0,to=90,by=5)){
trips <- data[birth.year >= x & birth.year < x + 5]
trips <- data[birth.year >= x & birth.year < x + 5,]
trips <- tripduration[birth.year >= x & birth.year < x + 5]
meand(trips)
mean(trips)
for(x in seq(from=0,to=90,by=5)){
trips <- tripduration[birth.year >= x & birth.year < x + 5]
durationsByAge <- c()
for(x in seq(from=0,to=90,by=5)){
trips <- tripduration[birth.year >= x & birth.year < x + 5]
durationsByAge <- c(durationsByAge, mean(trips))}
durationByAge
durationsByAge
trips
trips <- tripduration[birth.year >= x & birth.year < x + 5]
trips
tripduration
length(tripduration)
tripduration[birth.year > 10]
tripduration[birth.year > 10 & birth.year < 15]
tripduration[birth.year > 10 && birth.year < 15]
tripduration[birth.year > 10 &]
tripduration[birth.year > 10]
tripduration[birth.year > 10 & birth.year < 15]
durationsByAge <- c()
for(x in seq(from=0,to=90,by=5)){
trips <- tripduration[birth.year >= 1930 + x & birth.year < 1930 + x + 5]
durationsByAge <- c(durationsByAge, mean(trips))}
durationsByAge
length(durationsByAge)
for(x in seq(from=0,to=80,by=5)){
trips <- tripduration[birth.year >= 1930 + x & birth.year < 1930 + x + 5]
durationsByAge[1:15]
durationsByAge <- durationsByAge[1:15]
barplot(durationsByAge)
barplot(durationsByAge, main="Trip duration by age", xlab="Age", legend())
for(x in seq(from=0,to=80,by=5)){
}
legends <- c()
for(x in seq(from=0,to=80,by=5)){
legends <- c(legends, paste(x, ' - ', x+5))}
legends
legends <- c(legends, paste(2019 - 1930 + x, ' - ', 2019 - 1930 + x+5))}
for(x in seq(from=0,to=80,by=5)){
legends <- c(legends, paste(2019 - 1930 + x, ' - ', 2019 - 1930 + x+5))}
legends
legends <- legends[19:38]
legends
legends <- c()
for(x in seq(from=0,to=80,by=5)){
legends <- c(legends, paste(2019 - 1930 + x, ' - ', 2019 - 1930 + x+5))}
legends
legends <- c()
for(x in seq(from=0,to=80,by=5)){
legends <- c(legends, paste(2019 - 1930 - x, ' - ', 2019 - 1930 - x-5))}
legends
barplot(durationsByAge, main="Trip duration by age", xlab="Age", legend())
barplot(durationsByAge, main="Trip duration by age", xlab="Age", legend = legends)
barplot(durationsByAge, main="Trip duration by age", xlab="Mean trip duration", horizonta = TRUE, legend = legends, names.arg=legends)
barplot(durationsByAge, main="Trip duration by age", xlab="Mean trip duration", horizontal = TRUE, legend = legends, names.arg=legends)
barplot(durationsByAge, main="Trip duration by age", xlab="Mean trip duration", horiz=TRUE, legend = legends, names.arg=legends)
length(durationsByAge)
length(legends)
legends <- legends[1:15
]
barplot(durationsByAge, main="Trip duration by age", xlab="Mean trip duration", horizontal = TRUE, legend = legends, names.arg=legends)
barplot(durationsByAge, main="Trip duration by age", xlab="Mean trip duration", horiz=TRUE, legend = legends, names.arg=legends)
barplot(durationsByAge, main="Trip duration by age", xlab="Mean trip duration", horiz=TRUE, names.arg=legends)
pdf("tripdurationVSage.pdf")
barplot(durationsByAge, main="Trip duration by age", xlab="Mean trip duration", horiz=TRUE, names.arg=legends)
dev.off()
quit()
